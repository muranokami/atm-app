# 簡易ATM Webアプリ

## 概要
Spring Bootを用いた簡易ATMシステムです。  
ユーザーの登録・認証機能を備え、入出金や振込、残高照会、取引履歴の確認などの機能をWeb上で利用できます。

---

## 主な機能
- ユーザー登録 / ログイン（Spring Security使用）
- 入金 / 出金
- 残高照会
- 振込機能（他ユーザーへの送金）※今後実装予定
- 取引履歴の表示
- パスワード変更
- 利用制限 / アカウントロック機能 ※今後実装予定

---

## ログイン画面

ログイン画面では、登録済みのユーザー名とパスワードを入力してログインできます。
---

<img width="674" height="334" alt="Image" src="https://github.com/user-attachments/assets/73de34c6-a00a-49b1-9e6f-6b46542cbbb2" />


## 新規登録画面

ログイン画面から遷移して、新規ユーザー登録ができます。

以下の項目を入力すると、ユーザー登録が完了します：

- ユーザー名（必須）
- メールアドレス（必須）
- パスワードパスワード（8文字以上で、英字と数字の両方を含む必要があります）
- 暗証番号（4桁の数字）
- 初期残高（100円以上500000円以下）

### 🔒 入力制限とバリデーション

- パスワードは8文字以上で、英字と数字の両方を含む必要があります
- 暗証番号は4桁の半角数字のみ有効です。
- 初期残高には100円以上500000円以下の数字を入力してください。

### 🚀 登録後の流れ

登録が完了すると、**自動的にログイン状態**となり、ATMのホーム画面に遷移します。

---
<img width="586" height="681" alt="Image" src="https://github.com/user-attachments/assets/7475e8a0-d9c1-462d-99a1-4d9a840f23e8" />

## ホーム画面

ログイン後に表示されるメイン画面です。

登録済みユーザーがATMの各種機能を利用するための起点となります。

### 表示される情報
- ようこそメッセージ（ログイン中のユーザー名）
- 残高

### 利用できる機能
ホーム画面から以下の機能へ遷移できます：

- 💰 **入金**：指定した金額を残高に追加します。
- 🏧 **出金**：指定した金額を残高から引き出します。
- 📊 **残高照会**：現在の残高を確認できます。
- 📜 **取引履歴**：これまでの入出金履歴を時系列で表示します。
- 🔐 **ログアウト**：現在のセッションを終了し、ログイン画面に戻ります。

---
<img width="612" height="605" alt="Image" src="https://github.com/user-attachments/assets/a04e99d7-bead-49bd-808e-17dae051e7b9" />

## 残高照会画面

現在の口座残高を確認できる画面です。

ログイン後、ホーム画面の「残高照会」ボタンを押すことで遷移します。

### 表示内容
- ログイン中のユーザー名（またはID）
- 現在の残高（円単位）

### 特徴
- 表示のみで、データの変更は行われません。
- セキュリティの観点から、必要に応じて残高表示の制限やマスク表示の実装も可能です。※今後実装予定
---
<img width="613" height="376" alt="Image" src="https://github.com/user-attachments/assets/bb190948-16d0-4cea-823a-7dda7a521eff" />

## 💰 入金画面

ユーザーが自分の口座に金額を入金できる画面です。

### 🔧 入力項目

- 入金金額（必須）  
- 入金したい金額を半角数字で入力します。  
- ※ 100円以上500,000円以下の整数のみ受付けます。

### ✅ バリデーション

- 入金金額は **100円以上500,000円以下の正の整数**である必要があります。
- 無効な入力（空欄、0円、負の数、文字列など）の場合はエラーメッセージが表示され、処理されません。

### 💾 入金後の流れ

- 入金が完了すると、最新の残高が表示されます。
- 同時に、入金履歴が取引履歴に記録されます。

---
<img width="622" height="397" alt="Image" src="https://github.com/user-attachments/assets/8ac17469-983c-45fe-980f-8f774cb726cd" />

## 🏧 出金画面

ユーザーが自分の口座から金額を引き出す画面です。

### 🔧 入力項目

- 出金金額（必須）  
- 100円以上、現在の残高以下の整数のみ受付けます。

### ✅ バリデーション

- 出金金額は100円以上かつ残高以下の正の整数である必要があります。  
- 無効な入力時はエラーメッセージが表示されます。

### 💾 出金後の流れ

- 出金完了後、最新の残高が表示されます。  
- 出金履歴が取引履歴に記録されます。
---
<img width="599" height="382" alt="Image" src="https://github.com/user-attachments/assets/1a7728c5-80a7-481b-9d3c-c7f429a4c1d2" />

## 📜 取引履歴画面

過去の入金・出金・振込などの取引履歴を一覧で表示します。

### 表示内容

- 取引日時  
- 取引種類（入金・出金・振込）  
- 金額  
- 取引後の残高  
- 取引相手（振込先・振込元）

### 特徴

- 最新の取引が画面上部に表示されます。  
- 資金の動きを時系列で確認可能です。
---
<img width="1360" height="651" alt="Image" src="https://github.com/user-attachments/assets/e6446339-a851-45be-a682-d0ef31a2688e" />

---
## 使用技術
- バックエンド：Spring Boot, Spring Security, JPA (Hibernate)
- フロントエンド：Thymeleaf, HTML/CSS
- データベース：PostgreSQL
- ビルドツール：Maven
- その他：Lombok, Bootstrap など

---

## 工夫した点
- Spring Securityを利用し、安全な認証機能を実装
- DBのユーザー情報を元に認証処理を構成
- 入出金・振込時に整合性を保つようトランザクション管理
- Thymeleafによる柔軟なUI構成とデータ表示
- パスワードはBCryptで暗号化して安全性を確保
- アカウントロックやログイン試行制限の追加

---

## 今後の改善点
- テストコード（JUnit/Mockito）による自動テストの実装
- フロントエンドのレスポンシブ対応（スマホ画面最適化）
- REST API化してVue.jsやReactと連携
- 例外処理の改善とユーザー向けのエラーメッセージ表示
- 管理者画面の実装
- 振込機能の実装　

---

## デモ用アカウント情報

以下は動作確認やデモ用に用意したアカウントです。

| ユーザー名 | パスワード     |
| ---------- | ------------- |
| test    | test2222   |

> ※このアカウントはテスト・デモ用です。  
> 実際の運用環境ではご自身で新規登録をお願いします。  
> セキュリティ上、本番環境のパスワードは公開しないようご注意ください。
---

## データベースについて

本アプリでは以下の情報をデータベースに保存しています。

- ユーザー登録情報（ユーザーID、登録日時、ログイン情報など）
- 取引履歴（取引日時、取引種別、金額、残高など）

### 個人情報の取り扱いについて

- 本ポートフォリオは学習・デモ目的のため、実際の個人情報は使用していません。  
- 画面キャプチャやサンプルデータにて個人を特定できる情報は伏せる、または架空の情報を使用しています。  
- パスワードは暗号化（BCrypt）して保存し、安全に管理しています。  
- 実運用時には、適切なアクセス制限やセキュリティ対策を行う必要があります。

---

安心してご覧いただけるよう配慮しておりますが、個人情報の取り扱いには十分ご注意ください。

## 実行方法（ローカル開発環境）

```bash
# リポジトリをクローン
git clone https://github.com/yourname/atm-app.git
cd atm-app

# PostgreSQLを起動し、設定を application.properties に記述
# DB初期化は自動マイグレーションで行われます

# アプリケーションを起動
./mvnw spring-boot:run
